function pad(n,t){return(1e15+n+"").slice(-t)}window.myapp=msls.application,function(n){function f(n){r.call(this,n)}function e(n){r.call(this,n)}function o(n){r.call(this,n)}function s(n){r.call(this,n)}function h(n){r.call(this,n)}function c(n){r.call(this,n)}function l(n){a.call(this,n)}function w(){v.call(this)}var r=msls.Entity,a=msls.DataService,v=msls.DataWorkspace,u=msls._defineEntity,y=msls._defineDataService,p=msls._defineDataWorkspace,i=msls.DataServiceQuery,t=msls._toODataString;msls._addToNamespace("msls.application",{DeliveryAssessmentDetail:u(f,[{name:"BookingInReferenceNumber",type:String},{name:"Question_No",type:String},{name:"AssessmentDate",type:Date},{name:"Question",type:String},{name:"Weighting",type:Number},{name:"Score",type:Number},{name:"Score_Value",type:Number},{name:"AssessmentId",type:Number},{name:"QuestionIndex",type:String}]),DeliveryAssessment:u(e,[{name:"AssessmentId",type:Number},{name:"SupplierId",type:Number},{name:"BookingInReferenceNumber",type:String},{name:"AssessmentDate",type:Date},{name:"AssessmentUser",type:String},{name:"Total",type:Number},{name:"Grade",type:String},{name:"Comments",type:String},{name:"AssessmentQ1",type:Number},{name:"AssessmentQ2",type:Number},{name:"AssessmentQ3",type:Number},{name:"AssessmentQ4",type:Number},{name:"AssessmentQ5",type:Number},{name:"AssessmentQ6",type:Number},{name:"AssessmentQ7",type:Number},{name:"AssessmentQ8",type:Number},{name:"AssessmentQ9",type:Number},{name:"AssessmentQ10",type:Number},{name:"AssessmentQ11",type:Number},{name:"AssessmentQ12",type:Number},{name:"AssessmentQ13",type:Number},{name:"AssessmentQ14",type:Number},{name:"AssessmentQ15",type:Number},{name:"AssessmentQ16",type:Number},{name:"AssessmentQ17",type:Number},{name:"AssessmentQ18",type:Number}]),Question:u(o,[{name:"ID",type:Number},{name:"QuizTitle",type:String},{name:"SectionTitle",type:String},{name:"QuestionIndex",type:String},{name:"QuestionNumber",type:String},{name:"Weighting",type:Number},{name:"CriticalFlag",type:Number},{name:"QuestionType",type:String},{name:"Question1",type:String},{name:"AnswerYesAdvice",type:String},{name:"AnswerNoAdvice",type:String}]),SupplierAssessment:u(s,[{name:"SupplyAssessmentID",type:Number},{name:"SupplierAccountNumber",type:String},{name:"FillRate",type:Number},{name:"LeadTime",type:Number},{name:"League",type:String},{name:"Confirmation",type:String},{name:"ProgressChasing",type:String},{name:"AssessmentCreated",type:Date},{name:"AssessmentCompleted",type:Date},{name:"AssessmentComplete",type:Boolean},{name:"PerformedBy",type:String},{name:"FillRatePoint",type:Number},{name:"LeadTimePoint",type:Number},{name:"Phase1Score",type:Number},{name:"Phase2Score",type:Number},{name:"ServiceFailures",type:Number},{name:"OverallScore",type:Number},{name:"GradeAwarded",type:String},{name:"EDIPoints",type:Number},{name:"EDIGrade",type:Number},{name:"AssessmentMonth",type:Date},{name:"Location",type:String},{name:"SupplierID",type:Number},{name:"SupplierName",type:String},{name:"SupplierContactDetails",type:String},{name:"SupplierLastModified",type:Date},{name:"SupplierCurrentGrade",type:String},{name:"SupplierLastAssessed",type:Date},{name:"SupplierLastAssessedBy",type:String},{name:"SupplierLastAssessedType",type:String},{name:"SupplierBeingAssessed",type:Boolean},{name:"Expr1",type:String},{name:"SupplierAlertEmailSent",type:Boolean},{name:"SupplierType",type:Number},{name:"SupplierLeague",type:String},{name:"SupplierPalletExchangeEnabled",type:Boolean},{name:"SupplierPalletExchangeType",type:Number},{name:"SupplierPalletExchangePallets",type:Number},{name:"SupplierPalletExchangeTotes",type:Number},{name:"SupplierPalletExchangePalletsStartedOn",type:Number},{name:"SupplierPalletExchangeTotesStartedOn",type:Number},{name:"SupplierPalletExchangeReturnRate",type:String},{name:"SupplierAcceptEDI",type:Boolean},{name:"SupplierDelAdvice",type:Boolean},{name:"SupplierInvoice",type:Boolean},{name:"SupplierPEResponsibleLocation",type:String},{name:"SupplierEmail",type:String}]),SupplierMonthlyScore:u(h,[{name:"IsCompleted",type:Boolean},{name:"CompletedDate",type:String},{name:"CompletedBy",type:String},{name:"AssessmentCount",type:Number},{name:"AssessmentTotalScore",type:Number},{name:"DeliveryAverage",type:String},{name:"DeliveryGrade",type:String},{name:"ServiceFailureCount",type:Number},{name:"ServiceFailureScore",type:String},{name:"FillRate",type:String},{name:"FillRateScore",type:String},{name:"LeadTime",type:String},{name:"LeadTimeScore",type:String},{name:"OverallScore",type:String},{name:"League",type:String},{name:"OverallGrade",type:String},{name:"AwardDate",type:Date},{name:"SupplierId",type:Number},{name:"AwardYear",type:Number},{name:"AwaordMonth",type:Number}]),Supplier:u(c,[{name:"SupplierID",type:Number},{name:"SupplierName",type:String},{name:"SupplierContactDetails",type:String},{name:"SupplierLastModified",type:Date},{name:"SupplierCurrentGrade",type:String},{name:"SupplierLastAssessed",type:Date},{name:"SupplierLastAssessedBy",type:String},{name:"SupplierLastAssessedType",type:String},{name:"SupplierBeingAssessed",type:Boolean},{name:"SupplierAccountNumber",type:String},{name:"SupplierAlertEmailSent",type:Boolean},{name:"SupplierType",type:Number},{name:"SupplierLeague",type:String},{name:"SupplierPalletExchangeEnabled",type:Boolean},{name:"SupplierPalletExchangeType",type:Number},{name:"SupplierPalletExchangePallets",type:Number},{name:"SupplierPalletExchangeTotes",type:Number},{name:"SupplierPalletExchangePalletsStartedOn",type:Number},{name:"SupplierPalletExchangeTotesStartedOn",type:Number},{name:"SupplierPalletExchangeReturnRate",type:String},{name:"SupplierAcceptEDI",type:Boolean},{name:"SupplierDelAdvice",type:Boolean},{name:"SupplierInvoice",type:Boolean},{name:"SupplierPEResponsibleLocation",type:String},{name:"SupplierEmail",type:String},{name:"OverallGrade",type:String},{name:"AwardDate",type:Date}]),SupplierAssessmentData:y(l,n.rootUri+"/SupplierAssessmentData.svc",[{name:"DeliveryAssessmentDetails",elementType:f},{name:"DeliveryAssessments",elementType:e},{name:"Questions",elementType:o},{name:"SupplierAssessments",elementType:s},{name:"SupplierMonthlyScores",elementType:h},{name:"Suppliers",elementType:c}],[{name:"DeliveryAssessmentDetails_SingleOrDefault",value:function(r,u,f){return new i({_entitySet:this.DeliveryAssessmentDetails},n.rootUri+"/SupplierAssessmentData.svc/DeliveryAssessmentDetails(BookingInReferenceNumber="+t(r,"String?")+",Question_No="+t(u,"String?")+",AssessmentId="+t(f,"Int32?")+")")}},{name:"DeliveryAssessmentDetailsByBookingInReferenceNumber",value:function(r,u){return new i({_entitySet:this.DeliveryAssessmentDetails},n.rootUri+"/SupplierAssessmentData.svc/DeliveryAssessmentDetailsByBookingInReferenceNumber()",{BookingInReferenceNumber:t(r,"String?"),AssessmentId:t(u,"Int32?")})}},{name:"DeliveryAssessments_SingleOrDefault",value:function(r){return new i({_entitySet:this.DeliveryAssessments},n.rootUri+"/SupplierAssessmentData.svc/DeliveryAssessments(AssessmentId="+t(r,"Int32?")+")")}},{name:"DeliveryAssessmentsBySupplierAndDate",value:function(r,u,f){return new i({_entitySet:this.DeliveryAssessments},n.rootUri+"/SupplierAssessmentData.svc/DeliveryAssessmentsBySupplierAndDate()",{SupplierId:t(r,"Int32?"),StartDate:t(u,"DateTime?"),EndDate:t(f,"DateTime?")})}},{name:"Questions_SingleOrDefault",value:function(r){return new i({_entitySet:this.Questions},n.rootUri+"/SupplierAssessmentData.svc/Questions(ID="+t(r,"Int32?")+")")}},{name:"FilterDefaultQuestions",value:function(){return new i({_entitySet:this.Questions},n.rootUri+"/SupplierAssessmentData.svc/FilterDefaultQuestions()",{})}},{name:"SupplierAssessments_SingleOrDefault",value:function(r,u,f,e,o,s,h,c,l,a,v){return new i({_entitySet:this.SupplierAssessments},n.rootUri+"/SupplierAssessmentData.svc/SupplierAssessments(SupplyAssessmentID="+t(r,"Int32?")+",SupplierAccountNumber="+t(u,"String?")+",AssessmentComplete="+t(f,"Boolean?")+",SupplierID="+t(e,"Int32?")+",SupplierBeingAssessed="+t(o,"Boolean?")+",Expr1="+t(s,"String?")+",SupplierAlertEmailSent="+t(h,"Boolean?")+",SupplierPalletExchangeEnabled="+t(c,"Boolean?")+",SupplierAcceptEDI="+t(l,"Boolean?")+",SupplierDelAdvice="+t(a,"Boolean?")+",SupplierInvoice="+t(v,"Boolean?")+")")}},{name:"AssessmentsBySupplierId",value:function(r){return new i({_entitySet:this.SupplierAssessments},n.rootUri+"/SupplierAssessmentData.svc/AssessmentsBySupplierId()",{SupplierID:t(r,"Int32?")})}},{name:"SupplierMonthlyScores_SingleOrDefault",value:function(r,u,f){return new i({_entitySet:this.SupplierMonthlyScores},n.rootUri+"/SupplierAssessmentData.svc/SupplierMonthlyScores(SupplierId="+t(r,"Int32?")+",AwardYear="+t(u,"Int32?")+",AwaordMonth="+t(f,"Int32?")+")")}},{name:"SupplierMonthlyScoresBySupplierId",value:function(r){return new i({_entitySet:this.SupplierMonthlyScores},n.rootUri+"/SupplierAssessmentData.svc/SupplierMonthlyScoresBySupplierId()",{SupplierId:t(r,"Int32?")})}},{name:"Suppliers_SingleOrDefault",value:function(r){return new i({_entitySet:this.Suppliers},n.rootUri+"/SupplierAssessmentData.svc/Suppliers(SupplierID="+t(r,"Int32?")+")")}},{name:"GetSupplierByLoggedInUser",value:function(){return new i({_entitySet:this.Suppliers},n.rootUri+"/SupplierAssessmentData.svc/GetSupplierByLoggedInUser()",{})}}]),DataWorkspace:p(w,[{name:"SupplierAssessmentData",type:l}])})}(msls.application),function(n){function u(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseSuppliers",i)}function f(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"ViewDeliveryAssessment",i)}function e(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"ViewSupplier",i)}function o(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"ViewSupplierAssessment",i)}var t=msls.Screen,i=msls._defineScreen,s=msls.DataServiceQuery,h=msls._toODataString,r=msls._defineShowScreen;msls._addToNamespace("msls.application",{BrowseSuppliers:i(u,[{name:"Suppliers",kind:"collection",elementType:n.Supplier,createQuery:function(){return this.dataWorkspace.SupplierAssessmentData.Suppliers.orderBy("SupplierName")}}],[]),ViewDeliveryAssessment:i(f,[{name:"DeliveryAssessment",kind:"local",type:n.DeliveryAssessment},{name:"DeliveryAssessmentDetailsByBookingInReferenceNumber",kind:"collection",elementType:n.DeliveryAssessmentDetail,createQuery:function(n,t){return this.dataWorkspace.SupplierAssessmentData.DeliveryAssessmentDetailsByBookingInReferenceNumber(n,t)}}],[]),ViewSupplier:i(e,[{name:"Supplier",kind:"local",type:n.Supplier},{name:"AssessmentsBySupplierId",kind:"collection",elementType:n.SupplierAssessment,createQuery:function(n){return this.dataWorkspace.SupplierAssessmentData.AssessmentsBySupplierId(n)}},{name:"SupplierMonthlyScoresBySupplierId",kind:"collection",elementType:n.SupplierMonthlyScore,createQuery:function(n){return this.dataWorkspace.SupplierAssessmentData.SupplierMonthlyScoresBySupplierId(n)}}],[]),ViewSupplierAssessment:i(o,[{name:"SupplierMonthlyScore",kind:"local",type:n.SupplierMonthlyScore},{name:"AssessmentStartDate",kind:"local",type:Date},{name:"AssessmentEndDate",kind:"local",type:Date},{name:"DeliveryAssessmentsBySupplierAndDate",kind:"collection",elementType:n.DeliveryAssessment,createQuery:function(n,t,i){return this.dataWorkspace.SupplierAssessmentData.DeliveryAssessmentsBySupplierAndDate(n,t,i)}},{name:"TotalScore",kind:"local",type:String},{name:"ServiceScore",kind:"local",type:String}],[]),showBrowseSuppliers:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseSuppliers",i,t)}),showViewDeliveryAssessment:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("ViewDeliveryAssessment",r,i)}),showViewSupplier:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("ViewSupplier",r,i)}),showViewSupplierAssessment:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("ViewSupplierAssessment",r,i)})})}(msls.application),myapp.BrowseSuppliers.created=function(n){n.Suppliers.showSearch()},myapp.BrowseSuppliers.ScreenContent_render=function(){var i=$(".msls-screen-buttons"),r=$("<div class='subControl msls-logout-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Log out'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-logout ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>"),u=$("<div class='subControl msls-back-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Back'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-back ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>");i.empty();$(i).on("tap",".msls-logout-button",function(){document.location.href="../logout.html"});$(i).on("tap",".msls-back-button",function(){myapp.permissions["LightSwitchApplication:CanViewSuppliers"]?i.closest(".ui-page-active").attr("data-title")!="Browse Suppliers"&&history.back():i.closest(".ui-page-active").attr("data-title")!="Supplier"&&history.back()});$(i).on("tap",".msls-forward-button",function(){history.forward()});u.appendTo(i),r.appendTo(i),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent")},myapp.ViewDeliveryAssessment.Comments_postRender=function(n,t){$(n).children().children("span").replaceWith(t.value)},myapp.ViewDeliveryAssessment.BookingInReferenceNumber_postRender=function(n,t){$(n).children().children("span").text(t.value.toUpperCase())},myapp.ViewDeliveryAssessment.ScreenContent_render=function(){var i=$(".msls-screen-buttons"),r=$("<div class='subControl msls-logout-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Log out'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-logout ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>"),u=$("<div class='subControl msls-back-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Back'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-back ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>");i.empty();$(i).on("tap",".msls-logout-button",function(){document.location.href="../logout.html"});$(i).on("tap",".msls-back-button",function(){myapp.permissions["LightSwitchApplication:CanViewSuppliers"]?i.closest(".ui-page-active").attr("data-title")!="Browse Suppliers"&&history.back():i.closest(".ui-page-active").attr("data-title")!="Supplier"&&history.back()});$(i).on("tap",".msls-forward-button",function(){history.forward()});u.appendTo(i),r.appendTo(i),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent")},myapp.ViewSupplier.created=function(n){$.getJSON("https://supplierassessment.azurewebsites.net/Permissions/UserPermissions/GetPermissions",function(t){myapp.permissions=t;var i=myapp.permissions["LightSwitchApplication:CanViewSuppliers"];i||myapp.activeDataWorkspace.SupplierAssessmentData.GetSupplierByLoggedInUser().execute().then(function(t){n.Supplier=t.results[0]})})},myapp.ViewSupplier.AssessmentCreated_postRender=function(n,t){t.dataBind("value",function(t){t&&$(n).text(t.format("MMMM yyyy"))})},myapp.ViewSupplier.AwardDate_postRender=function(n,t){t.dataBind("value",function(t){t&&$(n).text(t.format("MMMM yyyy"))})},myapp.ViewSupplier.ScreenContent_render=function(){var i=$(".msls-screen-buttons"),r=$("<div class='subControl msls-logout-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Log out'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-logout ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>"),u=$("<div class='subControl msls-back-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Back'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-back ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>");i.empty();$(i).on("tap",".msls-logout-button",function(){document.location.href="../logout.html"});$(i).on("tap",".msls-back-button",function(){myapp.permissions["LightSwitchApplication:CanViewSuppliers"]?i.closest(".ui-page-active").attr("data-title")!="Browse Suppliers"&&history.back():i.closest(".ui-page-active").attr("data-title")!="Supplier"&&history.back()});$(i).on("tap",".msls-forward-button",function(){history.forward()});u.appendTo(i),r.appendTo(i),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent")},myapp.ViewSupplierAssessment.created=function(n){n.SupplierMonthlyScore.AwardDate.setHours(0,0,0,0),n.AssessmentStartDate=new Date(n.SupplierMonthlyScore.AwardDate.getTime()),n.AssessmentEndDate=new Date(n.SupplierMonthlyScore.AwardDate.getTime());var t=parseInt(n.SupplierMonthlyScore.AwardDate.getMonth())+1;n.AssessmentEndDate.setMonth(t),n.ServiceScore=parseFloat(n.SupplierMonthlyScore.ServiceFailureScore)+parseFloat(n.SupplierMonthlyScore.FillRateScore)+parseInt(n.SupplierMonthlyScore.LeadTimeScore),n.TotalScore=parseFloat(n.SupplierMonthlyScore.DeliveryAverage)+parseFloat(n.ServiceScore),n.details.displayName=n.AssessmentStartDate.format("MMMM yyyy")+" - Assessment"},myapp.ViewSupplierAssessment.Comments_postRender=function(n,t){$(n).children().children("span").replaceWith(t.value),$(n).children().children().children("li").css("word-wrap","break-word")},myapp.ViewSupplierAssessment.BookingInReferenceNumber_postRender=function(n,t){$(n).children().children("span").html("<a class='id-element' style='color:white'><u>"+t.value.toUpperCase()+"<\/u><\/a>")},myapp.ViewSupplierAssessment.ScreenContent_render=function(){var i=$(".msls-screen-buttons"),r=$("<div class='subControl msls-logout-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Log out'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-logout ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>"),u=$("<div class='subControl msls-back-button msls-large-icon msls-tap ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-notext ui-btn-up-a' tabindex='0' data-icon='msls-logout' data-iconpos='notext' data-role='button' data-ls-content='content:{data.shell.logoutCommand.displayName}' data-ls-isvisible='isVisible:{tap.canExecute}' data-ls-isenabled='isEnabled:{tap.canExecute}' data-ls-tap='tap:{data.shell.logoutCommand.command}' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' data-theme='a' title='Back'><span class='ui-btn-inner'><span class='ui-btn-text'><a class='id-element ui-btn ui-btn-up-a ui-shadow ui-btn-corner-all ui-mini' data-role='button' data-mini='true' data-theme='a' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span'><span class='ui-btn-inner'><span class='ui-btn-text'>Log out<\/span><\/span><\/a><\/span><span class='ui-icon ui-icon-msls-back ui-icon-shadow'>&nbsp;<\/span><\/span><\/div>");i.empty();$(i).on("tap",".msls-logout-button",function(){document.location.href="../logout.html"});$(i).on("tap",".msls-back-button",function(){myapp.permissions["LightSwitchApplication:CanViewSuppliers"]?i.closest(".ui-page-active").attr("data-title")!="Browse Suppliers"&&history.back():i.closest(".ui-page-active").attr("data-title")!="Supplier"&&history.back()});$(i).on("tap",".msls-forward-button",function(){history.forward()});u.appendTo(i),r.appendTo(i),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Browse Suppliers'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button").css("opacity","0.4"),$("[data-title='Supplier'] .msls-screen-buttons .msls-back-button .ui-btn-inner .ui-icon-msls-back").css("background-color","transparent")};